{
  "version": 3,
  "sources": ["mod.ts"],
  "sourcesContent": ["type Listener = (offset: number) => void\n\ninterface ImageOffsetterParams {\n  containerAnchor: HTMLDivElement\n  imageAnchor: HTMLDivElement\n  image: HTMLImageElement\n  pull: 'left' | 'right'\n  on?: {\n    offsetChange: Listener\n  }\n}\n\n/**\n * @example\n * ```html\n * <div class=\"container mx-auto\">\n *  <div class=\"w-full js-container-anchor\"></div>\n *  <div class=\"w-10/12 ml-auto\">\n *    <div class=\"w-full js-image-anchor\"></div>\n *    <img src=\"https://placehold.co/300\" class=\"w-full h-auto js-image\"></img>\n *  </div>\n * </div>\n * ```\n * ---\n * ```js\n * new ImageOffsetter({\n *   containerAnchor: document.querySelector('.js-container-anchor'),\n *   imageAnchor: document.querySelector('.js-image-anchor'),\n *   image: document.querySelector('.js-image'),\n * })\n * ```\n */\nexport class ImageOffsetter {\n  MAX_WINDOW_WIDTH = 1728 //px\n\n  containerAnchor: HTMLDivElement\n  imageAnchor: HTMLDivElement\n  image: HTMLImageElement\n\n  imageWidthOrigin: number = 0\n  containerWidth: number = 0\n  offset: number = 0\n  pull: 'right' | 'left'\n  listeners: Listener[] = []\n\n  constructor({\n    containerAnchor,\n    imageAnchor,\n    image,\n    pull = 'right',\n    on\n  }: ImageOffsetterParams) {\n    this.containerAnchor = containerAnchor\n    this.imageAnchor = imageAnchor\n    this.image = image\n    this.pull = pull\n\n    if (on) {\n      if (on.offsetChange) {\n        this.listeners.push(on.offsetChange)\n      }\n    }\n\n    this.handleResize()\n    globalThis.addEventListener('resize', () => this.handleResize())\n  }\n\n  handleResize() {\n    this.imageWidthOrigin = this.imageAnchor.clientWidth\n    this.containerWidth = this.containerAnchor.clientWidth\n    this.offset = (min(this.MAX_WINDOW_WIDTH, globalThis.innerWidth) - this.containerWidth) / 2\n\n    for (let index = 0; index < this.listeners.length; index++) {\n      const fn = this.listeners[index];\n      fn(this.offset)\n    }\n\n    this.image.style.minWidth = `${this.imageWidthOrigin + this.offset}px`;\n\n    if (this.pull === 'right') {\n      this.image.style.marginRight = `${this.offset * -1}px`\n    }\n\n    else if (this.pull === 'left') {\n      this.image.style.marginLeft = `${this.offset * -1}px`\n    }\n  }\n}\n\n/* Helpers */\nfunction min(a: number, b: number) {\n  return a < b ? a : b\n}\n"],
  "mappings": "AAgCO,IAAMA,EAAN,KAAqB,CAC1B,iBAAmB,KAEnB,gBACA,YACA,MAEA,iBAA2B,EAC3B,eAAyB,EACzB,OAAiB,EACjB,KACA,UAAwB,CAAC,EAEzB,YAAY,CACV,gBAAAC,EACA,YAAAC,EACA,MAAAC,EACA,KAAAC,EAAO,QACP,GAAAC,CACF,EAAyB,CACvB,KAAK,gBAAkBJ,EACvB,KAAK,YAAcC,EACnB,KAAK,MAAQC,EACb,KAAK,KAAOC,EAERC,GACEA,EAAG,cACL,KAAK,UAAU,KAAKA,EAAG,YAAY,EAIvC,KAAK,aAAa,EAClB,WAAW,iBAAiB,SAAU,IAAM,KAAK,aAAa,CAAC,CACjE,CAEA,cAAe,CACb,KAAK,iBAAmB,KAAK,YAAY,YACzC,KAAK,eAAiB,KAAK,gBAAgB,YAC3C,KAAK,QAAUC,EAAI,KAAK,iBAAkB,WAAW,UAAU,EAAI,KAAK,gBAAkB,EAE1F,QAASC,EAAQ,EAAGA,EAAQ,KAAK,UAAU,OAAQA,IAAS,CAC1D,IAAMC,EAAK,KAAK,UAAUD,CAAK,EAC/BC,EAAG,KAAK,MAAM,CAChB,CAEA,KAAK,MAAM,MAAM,SAAW,GAAG,KAAK,iBAAmB,KAAK,MAAM,KAE9D,KAAK,OAAS,QAChB,KAAK,MAAM,MAAM,YAAc,GAAG,KAAK,OAAS,EAAE,KAG3C,KAAK,OAAS,SACrB,KAAK,MAAM,MAAM,WAAa,GAAG,KAAK,OAAS,EAAE,KAErD,CACF,EAGA,SAASF,EAAIG,EAAWC,EAAW,CACjC,OAAOD,EAAIC,EAAID,EAAIC,CACrB",
  "names": ["ImageOffsetter", "containerAnchor", "imageAnchor", "image", "pull", "on", "min", "index", "fn", "a", "b"]
}
